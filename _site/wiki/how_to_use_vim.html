<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Vim 사용법</title>
        <link rel="stylesheet" href="/assets/css/styles.css">
    </head>
    <body>
        <nav>
    
    <a href="/" >Home</a>
    
    <a href="/recent.html" >Blog</a>
    
    <a href="/about.html" >About</a>
    
</nav>

        <h1 id="vim-사용법">Vim 사용법</h1>

<h2 id="1-커서-이동">1. 커서 이동</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">h</code>: 왼쪽</li>
  <li><code class="language-plaintext highlighter-rouge">j</code>: 아래</li>
  <li><code class="language-plaintext highlighter-rouge">k</code>: 위쪽</li>
  <li><code class="language-plaintext highlighter-rouge">l</code>: 오른쪽</li>
</ul>

<h2 id="2-파일에서-커서-화면-이동">2. 파일에서 커서, 화면 이동</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">^E</code>: 위로 이동 (커서 위치 유지)</li>
  <li><code class="language-plaintext highlighter-rouge">^Y</code>: 아래로 이동 (커서 위치 유지)</li>
  <li><code class="language-plaintext highlighter-rouge">^F</code></li>
  <li><code class="language-plaintext highlighter-rouge">^B</code></li>
  <li><code class="language-plaintext highlighter-rouge">{Num} + G</code>: 해당 라인 위치로 이동</li>
</ul>

<h2 id="3-편집의-기초">3. 편집의 기초</h2>
<h3 id="insert-mode">Insert Mode</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">i</code>: 커서 위치에 삽입</li>
  <li><code class="language-plaintext highlighter-rouge">a</code>: 커서 다음 위치에 삽입</li>
  <li><code class="language-plaintext highlighter-rouge">I</code>: 행의 맨앞 위치에 삽입</li>
  <li><code class="language-plaintext highlighter-rouge">A</code>: 행의 마지막 위치에 삽입</li>
</ul>

<p>ESC가 눌러지기 까지 하나의 수정단위가 된다.
u를 누른 경우 해당 명령이 undo가 된다.</p>

<h2 id="4-반복-명령">4. 반복 명령</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">.</code> 가장 마지막에 수행한 명령을 재실행</li>
</ul>

<h2 id="5-command-line-모드">5. Command Line 모드</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">:q</code>: 종료</li>
  <li><code class="language-plaintext highlighter-rouge">:w</code>: 저장</li>
  <li><code class="language-plaintext highlighter-rouge">:w</code>: 저장</li>
  <li><code class="language-plaintext highlighter-rouge">:qw</code>: 저장 후 종료</li>
</ul>

<h2 id="6-한-줄-삭제-단어-삭제">6. 한 줄 삭제, 단어 삭제</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">dd</code>: 한 줄 삭제</li>
  <li><code class="language-plaintext highlighter-rouge">dw</code>: 단어 삭제</li>
  <li><code class="language-plaintext highlighter-rouge">u</code>: 하나의 편집 단위를 undo</li>
  <li><code class="language-plaintext highlighter-rouge">U</code>: 한 줄의 모든 수정을 undo</li>
</ul>

<h2 id="7-블럭설정하기">7. 블럭설정하기</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">v</code>: hjkl을 이용한 블럭 설정</li>
  <li><code class="language-plaintext highlighter-rouge">V</code>: line 단위로 Visual 블럭 설정</li>
  <li><code class="language-plaintext highlighter-rouge">^V</code>: 세로 단위 Visual 블럭 설정</li>
</ul>

<h2 id="8-간단한-편집replace-changem-one-mode">8. 간단한 편집(replace, changem, one-mode)</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">r</code>: 하나의 문자를 변경</li>
  <li><code class="language-plaintext highlighter-rouge">R</code>: 현재 커서위치로 부터 덮어쓰기</li>
  <li><code class="language-plaintext highlighter-rouge">cc</code>: 현재 라인 삭제 후 입력 모드</li>
  <li><code class="language-plaintext highlighter-rouge">cw</code>: 단어 삭제 후 삽입 모드</li>
  <li><code class="language-plaintext highlighter-rouge">o</code>: 현재 커서 아래에 줄 삽입 후 입력 모드</li>
  <li><code class="language-plaintext highlighter-rouge">O</code>: 현재 커서 위에 줄 삽입 후 입력 모드</li>
</ul>

<h2 id="9-복사-붙이기-삭제-후-붙이기-레지스터">9. 복사 붙이기, 삭제 후 붙이기, 레지스터</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">p</code>: 현재 커서 아랫 줄에 붙여 넣기</li>
  <li><code class="language-plaintext highlighter-rouge">P</code>: 현재 커서 위치에 붙여 넣기</li>
  <li><code class="language-plaintext highlighter-rouge">yy</code>: 한 줄 복사</li>
  <li><code class="language-plaintext highlighter-rouge">Y</code>: 한 줄 복사</li>
</ul>

<h2 id="10-작업파일-전환-디렉토리-열기">10. 작업파일 전환, 디렉토리 열기</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">vim {dir}</code>: vim은 파일이 아닌 디렉토리도 실행 할 수 있다.</li>
  <li><code class="language-plaintext highlighter-rouge">:e {fileName}</code>: 해당 파일 열기</li>
  <li><code class="language-plaintext highlighter-rouge">^L</code>: 화면 다시 그리기</li>
  <li><code class="language-plaintext highlighter-rouge">^C</code>: 작업중인 파일 확인하기</li>
</ul>

<h2 id="11-창을-분할하여-편집하기-기초">11. 창을 분할하여 편집하기 기초</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">:sp</code>: 창을 수평으로 분할</li>
  <li><code class="language-plaintext highlighter-rouge">:vsp</code>: 창을 수직으로 분할</li>
  <li><code class="language-plaintext highlighter-rouge">^WW</code>: 분할 되어있는 창 이동</li>
  <li><code class="language-plaintext highlighter-rouge">^WJ</code>: 창 이동 j 방향</li>
  <li><code class="language-plaintext highlighter-rouge">^WK</code>: 창 이동 k 방향</li>
  <li><code class="language-plaintext highlighter-rouge">^WH</code>: 창 이동 h 방향</li>
  <li><code class="language-plaintext highlighter-rouge">^WL</code>: 창 이동 l 방향</li>
  <li><code class="language-plaintext highlighter-rouge">^WC</code>: 현재 창 닫기</li>
</ul>

<h2 id="12-창-분할-창-크기-조정">12. 창 분할, 창 크기 조정</h2>
<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">^W=</code>: 화면의 크기를 동등하게</p>
  </li>
  <li>수평으로 확장한 경우(<code class="language-plaintext highlighter-rouge">:sp</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">^W_</code>: 현재 화면을 전체 화면으로</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">{num}^W_</code>: 원하는 라인 수 만큼 확장</p>
  </li>
  <li>수직으로 확장한 경우(<code class="language-plaintext highlighter-rouge">:vsp</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">^W|</code>: 현재 화면을 전체 화면으로</li>
  <li><code class="language-plaintext highlighter-rouge">{num}^W|</code>: 원하는 라인 수 만큼 확장</li>
</ul>

<h2 id="13-파일-비교하기">13. 파일 비교하기</h2>
<p><code class="language-plaintext highlighter-rouge">vimdiff a.c b.c</code></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">l</code>: 변경 사항이 없는 같은 내용은 holding이 되어있는데, 접는 선에서 l을 누르면 해제할 수 있다.</li>
  <li><code class="language-plaintext highlighter-rouge">dp</code>: 다른 창으로 diff 내용 보내기</li>
  <li><code class="language-plaintext highlighter-rouge">do</code>: 다른 창에서 diff 내용 가져오기</li>
</ul>

<h2 id="14-explore-split-explore">14. Explore, Split explore</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Ex</code> or <code class="language-plaintext highlighter-rouge">Explore</code>: 작업중인 파일에서 다른 디렉토리 열기</li>
  <li><code class="language-plaintext highlighter-rouge">Se</code>: 분할된 창으로 다른 디렉토리 열기</li>
</ul>

<h2 id="15-디렉토리-명령어-rddo">15. 디렉토리 명령어 RDdo</h2>
<p>해당 변경할 디렉토리를 연다 <code class="language-plaintext highlighter-rouge">:Ex</code></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">R</code>: 이름 변경하기</li>
  <li><code class="language-plaintext highlighter-rouge">D</code>: 삭제 하기</li>
  <li><code class="language-plaintext highlighter-rouge">^WO</code>: 현재 커서가 위치한 윈도우를 제외한 나머지 모두 닫기</li>
</ul>

<h2 id="16-찾기-단어찾기">16. 찾기, 단어찾기</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">/{str}</code>: 찾고 싶은 문자열 검색</li>
  <li><code class="language-plaintext highlighter-rouge">?{str}</code>: 찾고 싶은 문자열 역방향 검색</li>
  <li><code class="language-plaintext highlighter-rouge">n</code>: 다음 문자열</li>
  <li><code class="language-plaintext highlighter-rouge">N</code>: 이전 문자열</li>
  <li><code class="language-plaintext highlighter-rouge">*</code>: 커서가 위치한 단어 검색</li>
  <li><code class="language-plaintext highlighter-rouge">#</code>: 커서가 위치한 역방향 단어 검색</li>
</ul>

<h2 id="17-man-page-pydoc-확인하기">17. man page, pydoc 확인하기</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">K</code>: 해당 단어의 메뉴얼</li>
  <li><code class="language-plaintext highlighter-rouge">{num}+K</code>: 원하는 번호의 메뉴얼</li>
  <li>pydoc 파이썬 메뉴얼 프로그램</li>
  <li>*.py 파일에서 <code class="language-plaintext highlighter-rouge">K</code>실행 시 pydoc이 실행됨</li>
</ul>

<h2 id="18-커서-밑-파일-열기">18. 커서 밑 파일 열기</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">^WF</code>: 해당 경로의 파일이 열림</li>
  <li><code class="language-plaintext highlighter-rouge">:set isfname</code> 해당 변수를 통해 파일을 판단</li>
</ul>

<h2 id="19-버퍼-이용하기-1">19. 버퍼 이용하기 1</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">:ls</code>, <code class="language-plaintext highlighter-rouge">:buffers</code>, <code class="language-plaintext highlighter-rouge">:files</code></li>
  <li>현재 열려있는 버퍼는 %</li>
  <li>직전에 열려있는 버퍼는 #</li>
  <li>a는 active 상태를 나타냄</li>
  <li><code class="language-plaintext highlighter-rouge">:sb+{num}</code> 버퍼에 있는파일을 스플릿 하여 열기</li>
  <li><code class="language-plaintext highlighter-rouge">:ls!</code> (Unlist 버퍼까지 보기)</li>
</ul>

<h2 id="20-버퍼-이용하기-2">20. 버퍼 이용하기 2</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">Ctrl-^</code>, <code class="language-plaintext highlighter-rouge">:b N</code> 이전 버퍼에 있는 파일 열기</li>
</ul>

<h2 id="21-레지스터">21. 레지스터</h2>
<ul>
  <li>윈도우에서의 클립보드와 유사</li>
  <li>vim이 종료 되어도 (~/.viminfo) 에 저장 되어 있기 때문에 다시 불러 올 수 있음</li>
  <li><code class="language-plaintext highlighter-rouge">:reg</code> register에 저장 된 목록 보기
    <ul>
      <li><code class="language-plaintext highlighter-rouge">0</code>: 복사를 할 때 사용하는 레지스터</li>
      <li><code class="language-plaintext highlighter-rouge">1</code>: 삭제를 할 때 사용하는 레지스터</li>
      <li><code class="language-plaintext highlighter-rouge">""</code>: 마지막에 사용한 레지스터 (Default)</li>
      <li>복사 레지스터와 달리 삭제 레지스터는 목록이 늘어나면 밑으로 쉬프팅  된다.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">"+{num}+p</code> : {num}에 저장되어 있는 레지스터 붙여 넣기</li>
  <li><code class="language-plaintext highlighter-rouge">:wv</code>를 통해 현재 레지스터를 저장할 수 있다. (~/.viminfo)</li>
  <li><code class="language-plaintext highlighter-rouge">:wv</code>이후 다른 파일을 열고 ``:rv`를 이용하면 해당 레지스터값을 이용할 수 있다.</li>
</ul>

<h2 id="22-사용자-레지스터">22. 사용자 레지스터</h2>
<p>(수정중)</p>

<hr />

<h2 id="추가-팁">추가 팁</h2>
<p>윈도우에서 Caps Lock키를 ESC로 사용하기 위해서 여러가지 방법이 있지만, AutoHotkey라는 프로그램을 사용하면, 굉장히 편리한 스크립트를 사용할 수 있다. vim을 사용하다 보면, 한글일 때 명령어가 입력되지 않는 경험을 모두 해봤을 것이다. ex) :w -&gt; :ㅈ 
아래의 AutoHotkey를 설치해서 아래의 스크립트를 이용하면 Esc를 CapsLock키와 변경해 줌과 동시에 해당 키를 눌렀을 경우 한글 입력모드라면 영어입력 모드로 변경해 준다.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$CapsLock::
	Send, {ESC}
    if(IME_CHECK("A"))
        Send, {VK15}    ;영문이라면 한영전환 키를 입력해준다.
    return

/*
  IME check 
*/
IME_CHECK(WinTitle) {
  WinGet,hWnd,ID,%WinTitle%
  Return Send_ImeControl(ImmGetDefaultIMEWnd(hWnd),0x005,"")
}
Send_ImeControl(DefaultIMEWnd, wParam, lParam) {
  DetectSave := A_DetectHiddenWindows
  DetectHiddenWindows,ON
   SendMessage 0x283, wParam,lParam,,ahk_id %DefaultIMEWnd%
  if (DetectSave &lt;&gt; A_DetectHiddenWindows)
      DetectHiddenWindows,%DetectSave%
  return ErrorLevel
}
ImmGetDefaultIMEWnd(hWnd) {
  return DllCall("imm32\ImmGetDefaultIMEWnd", Uint,hWnd, Uint)
}
</code></pre></div></div>

<h1 id="vim-설정하기">Vim 설정하기</h1>

<p>Linux의 경우 ~(/home/{user}) 경로에서 <code class="language-plaintext highlighter-rouge">.vimrc</code>라는 파일을 생성해서 개인 환경 설정을 진행한다.</p>

<p>아래는 필자가 사용하는 간단한 설정 내용이다.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">set number</code>: line number를 화면에 표시한다.</li>
  <li><code class="language-plaintext highlighter-rouge">set smartindent</code>: smart한 들여쓰기</li>
  <li><code class="language-plaintext highlighter-rouge">set tabstop=2</code>: tab의 크기를 2로 지정한다.</li>
  <li><code class="language-plaintext highlighter-rouge">set expandtab</code>: tab을 띄워 쓰기로 대체한다. (ex: tabstop=2 인 경우 띄어쓰기 두 칸)</li>
  <li><code class="language-plaintext highlighter-rouge">set shiftwidth=2</code>: » 또는 « 키로 들여쓰기 할때, 스페이스 갯수를 설정</li>
</ul>

<hr />


    </body>
</html>
